# Вариант ДВОЙКИ (ДВ): Составление выражений с двойками

Для каждого из чисел от 1 до 26 найти их представление в виде арифметического выражения,
с помощью только пяти двоек, арифметических операций (+, -, *, :), операции возведения
в квадрат и скобками. Например: 13 = (22 + 2 + 2) : 2

## Требования к выполнению ДЗ:
1) Программа должна быть сдана вместе с набором тестов, который помещается в виде комментария в текст программы (если текст объемный и/или много тестов, то тесты можно выложить в виде отдельного файла).
1) Программа сдается вместе с кратким (1-3 предложения) обоснованием/пояснением выбора языка и парадигмы программирования для решаемой задачи, которое размещается в виде комментария в начале текста программы.
1) В программе должны быть комментарии для основных структур данных и логических частей.
1) Следует указать (примерный) процент кода, созданного с помощью ИИ или других внешних источников (само использование не карается, но учитывается;  приветствуется 0 % заимствований)
1) В большинстве вариантов ДЗ при разработке программы следует продумать и использовать внутреннее представление (или типы) обрабатываемых данных/выражений (формул и т.п.), что упрощает решение.

### Особенности оценивания ДЗ:
Реализованные программы оцениваются  в интервале баллов, указанных для варианта, с учетом выбранного языка и сложности задачи.

#### Баллы за ДЗ повышаются:
- за использование средств языка, упрощающих решение задачи и делающих код более логичным и ясным (функционалы, типы данных и др.);
- за удачное внутреннее представление обрабатываемых данных;
- за логичную структуру программы и адекватное комментирование;
- за реализацию дополнительной функциональности.

#### Баллы за ДЗ снижаются:
- при несоблюдении дедлайна сдачи (загрузки программы в систему);
- при неполной реализации требуемых вариантом ДЗ возможностей программы;
- при усложнении решения задачи, которое может произойти из-за неудачного выбора языка и/или не использования его ключевых средств и/или неудачного внутреннего представления данных;
- при недостаточном обосновании выбора языка и парадигмы (или его отсутствии);
- при неполноте или отсутствии набора тестов, на которых проверялась программа;
- при отсутствии ключевых комментариев (для внутреннего представления обрабатываемых данных, основных функций/предикатов/структур данных).

# Вводная информация

- **Язык и парадигма.**  
  Для решения выбран **Prolog**: декларативное описание деревьев выражений и автоматический поиск по пространству состояний позволяют естественно перебрать допустимые комбинации из пяти двоек. Предикаты и унификация делают проверку ограничений (точно пять двоек, целевой результат, отсутствие деления на ноль) компактной и наглядной.
- **Алгоритм.**  
  Построение выражений происходит рекурсивно: базовый случай — литералы `2`, `22`, `222`, `2222`; составные выражения получаются комбинацией двух подвыражений бинарными операциями или применением квадрата.
- **Использование ИИ.**  
  ИИ использовался при рефакторинге кода и составлении документации.

# Реализация

- `twos_value/2` строит литералы `2`, `22`, `222`, `2222`, что даёт компактное внутреннее представление для листьев дерева выражения.
- Выражения описываются термами `lit/1`, `add/2`, `sub/2`, `mul/2`, `div/2`, `sq/1`. Предикат `expression_of_twos/3` рекурсивно перебирает допустимые деревья, контролируя точное число использованных двоек.
- `combine_expr/6` кладёт ограничения на коммутативные операции через `canonical_pair/2`, чтобы не перебирать симметричные варианты (`A + B` и `B + A`).
- `target_expression/2` ищет единственное выражение из пяти двоек, которое принимает требуемое целое значение, а `expr_to_string/2` минимизирует скобки и формирует человекочитаемую запись.
- Вспомогательный `main/2` позволяет получить строковое представление решения непосредственным вызовом из REPL или тестов.

# Запуск

```bash
swipl
```
```prolog
?- [twos].
?- twos:main(`YOUR_NUMBER`, Result).
```
